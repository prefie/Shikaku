# Головоломка Shikaku
Версия 0.2

Автор: Шушарин Николай (prefie@bk.ru)


## Описание
Данное приложение представляет собой визуализатор решения Shikaku.

Классическая головоломка представляет собой прямоугольное клеточное поле с цифрами.
Цель головоломки состоит в том, чтобы разделить всё поле на прямоугольники так, чтобы
каждый прямоугольник содержал только одно число и это число обозначало бы площадь этого прямоугольника.

В нашем случае, поле - это параллелепипед, его единицы - кубы.
Правила те же, только теперь мы работаем с объёмами.

## Требования
* Python версии не ниже 3.6
* PyQt версии 5


## Состав
* Консольная версия генератора: `shikaku_generator.py`
* Графическая версия решателя: `shikaku_solver.py`
* Модули: `modules/`
* Тесты: `test_shikaku.py`


## Консольная версия генератора
Справка по запуску: `./shikaku_generator.py --help`

Примеры запуска:

`./shikaku_generator.py -H 3 -W 3 -D 3`

`./shikaku_generator.py -W 3 -H 3 -D 2 -P C:\Users\Asus\Desktop\puzzle.txt`

`./shikaku_generator.py -D 1 -W 2 -H 3 -S ./saves/puzzle.txt -P ./saves/solution.txt`


## Графическая версия решателя
Справка по запуску: `./shikaku_solver.py --help`

Пример запуска: `./shikaku_solver.py`

### Управление

Слайдеры - для разреза параллелепипеда по 2-ум осям, 3-й - для глубины

`Ctrl-N` - создание новой головоломки
`Ctrl-O` - открытие файла с головоломкой
`Ctrl-S` - решить открытую головоломку

## Подробности реализации Генератора
Модули, отвечающие за генерацию головоломки и её решения находятся в пакете `modules`.
При запуске генератора, создаётся элемент класса `Generator`, с помощью которого можно генерировать головоломки Shikaku,
он возвращает 2 `Task`, в одном из которых хранится исходная головоломка, а в другом головоломка и её решение.
После генерации головоломки, она и её решение записываются в отдельные файлы. (Пути можно указать)

# Какой вид имеет файл головоломки/решения:
Головоломка:

    z=  0   1   2
    y=0 -   9*  -   <- x=0
    y=1 6*  -   -
        
    y=0 -   -   -   <- x=1
    y=1 -   -   -   
    
    y=0 -   -   -   <- x=2
    y=1 -   -   3*
    
    -(прочерк) - это пустой куб
    ?* - это объем мини-параллелепипеда на этом поле
    
Решение головоломки:
    
    z=  0   1   2
    y=0 0   0_9*   0   <- x=0
    y=1 1_6* 1   1
        
    y=0 0   0   0   <- x=1
    y=1 1   1   1   
    
    y=0 0   0   0   <- x=2
    y=1 2   2   2_3*
    
    ? - цифра, она говорит о "цвете", которым закрашен этот куб
    ?_?* - первая цифра - цвет, вторая - объем мини-параллелепипеда на этом поле
    
Также, решатель умеет считывать частично решенную головоломку

    z=  0   1   2
    y=0 -   9*  -   <- x=0
    y=1 6*  -   5
        
    y=0 -   -   -   <- x=1
    y=1 -   -   5   
    
    y=0 -   -   -   <- x=2
    y=1 -   -   5_3*
    
    -(прочерк) - это пустой куб
    ? - цифра, она говорит о "цвете", которым закрашен этот куб
    ?_?* - первая цифра - цвет, вторая - объем мини-параллелепипеда на этом поле

Заметим, что частично решенная головоломка может не иметь полного решения.


## Подробности реализации Решателя
При запуске решателя запускается окно, в меню которого есть команды "Создать", "Открыть", "Решить".
При создании новой головоломки вас попросят указать параметры.
При открытии новой головоломки нужно будет выбрать файл с головоломкой.
При запуске решения головоломки, будет создан объект `Solver` и вызван метод `solve()`, который решает
головоломку рекурсивным перебором. После окончания перебора, показывается результат - расскрашенная головоломка.
Решатель поддерживает частично решенные головоломки, а также показывает прогресс перебора до некоторой глубины рекурсии.